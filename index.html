<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ORION - Virtual Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;200;300;400;500;600;700&display=swap");
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Roboto Mono", monospace;
        }

        body {
            background: linear-gradient(135deg, #000428, #004e92);
            color: #f0f8ff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00bcd4, #00ff9d);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(0, 188, 212, 0.3);
        }

        .main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            padding: 20px;
            text-align: center;
        }

        .image-container {
            padding: 20px;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        .image-container .image {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .image-container .image img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid #00bcd4;
            box-shadow: 0 0 30px rgba(0, 188, 212, 0.5);
            background: linear-gradient(45deg, #004e92, #000428);
        }

        .image-container p {
            color: #b1b7b8;
            font-size: 1.4rem;
            margin-bottom: 40px;
            max-width: 600px;
            line-height: 1.6;
        }

        .input-container {
            max-width: 600px;
            width: 100%;
            margin: 0 auto 30px;
        }

        .input {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 70px;
            border-radius: 50px;
            background: rgba(202, 255, 255, 0.15);
            /* FIXED: Added Safari prefix */
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .input:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 185, 212, 0.4);
        }

        .talk {
            background: transparent;
            outline: none;
            border: none;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            font-size: 1.2rem;
            color: #00bcd4;
            transition: all 0.3s ease;
            /* FIXED: Accessibility improvement */
            position: relative;
        }

        /* Screen reader text for accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        .talk:hover {
            background: rgba(0, 188, 212, 0.1);
            transform: scale(1.1);
        }

        .talk.listening {
            animation: pulse 1.5s infinite;
            color: #ff0055;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 85, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 85, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 85, 0); }
        }

        .content {
            color: #aed0d0;
            font-size: 1.2rem;
            padding: 0 20px;
            flex-grow: 1;
            text-align: center;
            min-height: 24px;
        }

        .command-list {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 25px;
            width: 100%;
            max-width: 600px;
        }

        .command-list h2 {
            color: #00bcd4;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .commands {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .command-item {
            background: rgba(0, 188, 212, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            transition: transform 0.3s ease;
        }

        .command-item:hover {
            transform: translateY(-3px);
            background: rgba(0, 188, 212, 0.2);
        }

        .command-item h3 {
            color: #00ff9d;
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .command-item p {
            color: #b1b7b8;
            font-size: 0.95rem;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            color: #7c8c8d;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2.2rem;
            }
            
            .image-container .image img {
                width: 140px;
                height: 140px;
            }
            
            .input {
                height: 60px;
            }
            
            .talk {
                width: 50px;
                height: 50px;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.8rem;
            }
            
            .image-container p {
                font-size: 1.1rem;
            }
            
            .content {
                font-size: 1rem;
            }
            
            .command-list h2 {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>O R I O N</h1>
        </header>
        
        <section class="main">
            <div class="image-container">
                <div class="image">
                    <!-- FIXED: Correct image URL -->
                    <img decoding="async" src="https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="ORION Virtual Assistant">
                </div>
                <p>I'm ORION, your AI-powered virtual assistant. How may I help you?</p>
            </div>
            
            <div class="input-container">
                <div class="input">
                    <!-- FIXED: Accessibility and HTML structure -->
                    <button class="talk" aria-label="Voice command">
                        <i class="fas fa-microphone-alt"></i>
                        <span class="sr-only">Activate voice recognition</span>
                    </button>
                    <h1 class="content">Click the microphone to speak</h1>
                </div>
            </div>
            
            <div class="command-list">
                <h2>Try saying:</h2>
                <div class="commands">
                    <div class="command-item">
                        <h3>"Hello" or "Hey"</h3>
                        <p>Greet ORION to start a conversation</p>
                    </div>
                    <div class="command-item">
                        <h3>"Open Google"</h3>
                        <p>Open Google in a new tab</p>
                    </div>
                    <div class="command-item">
                        <h3>"What is the time?"</h3>
                        <p>Get the current time</p>
                    </div>
                    <div class="command-item">
                        <h3>"Search for cats"</h3>
                        <p>Search anything on Google</p>
                    </div>
                </div>
            </div>
        </section>
        
        <footer>
            <p>ORION Virtual Assistant &copy; 2023 | Designed with AI</p>
        </footer>
    </div>

    <script>
        const btn = document.querySelector('.talk');
        const content = document.querySelector('.content');
        const micIcon = btn.querySelector('i');
        
        // Speech synthesis function
        function speak(text) {
            // Cancel any ongoing speech
            window.speechSynthesis.cancel();
            
            const text_speak = new SpeechSynthesisUtterance(text);
            text_speak.rate = 1;
            text_speak.volume = 1;
            text_speak.pitch = 1;
            
            // Set a pleasant voice if available
            const voices = window.speechSynthesis.getVoices();
            const femaleVoice = voices.find(voice => voice.name.includes('Female') || voice.name.includes('Samantha'));
            if (femaleVoice) {
                text_speak.voice = femaleVoice;
            }
            
            window.speechSynthesis.speak(text_speak);
        }
        
        // Greet based on time of day
        function wishMe() {
            let hour = new Date().getHours();
            if (hour >= 0 && hour < 12) {
                speak("Good Morning! I'm ORION, your virtual assistant.");
            } else if (hour >= 12 && hour < 18) {
                speak("Good Afternoon! I'm ORION, your virtual assistant.");
            } else {
                speak("Good Evening! I'm ORION, your virtual assistant.");
            }
        }
        
        // Initialize on page load
        window.addEventListener("load", () => {
            content.textContent = "Initializing ORION...";
            setTimeout(() => {
                speak("Initialization complete. ORION is ready to assist you.");
                wishMe();
                content.textContent = "Ready to assist you";
            }, 1500);
        });
        
        // Speech Recognition Setup
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        let recognition;
        
        if (!SpeechRecognition) {
            content.textContent = "Speech Recognition not supported in this browser.";
            alert("Your browser does not support speech recognition. Please use Google Chrome or Microsoft Edge.");
        } else {
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = "en-US";
            
            // When speech is detected
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript.toLowerCase();
                content.textContent = transcript;
                takeCommand(transcript);
            };
            
            // If an error occurs
            recognition.onerror = (event) => {
                console.error("Speech recognition error:", event.error);
                content.textContent = "Error: " + event.error;
                micIcon.classList.remove('fa-spin');
                btn.classList.remove('listening');
                speak("Sorry, I didn't catch that. Could you please repeat?");
                setTimeout(() => {
                    content.textContent = "Ready to assist you";
                }, 3000);
            };
            
            recognition.onend = () => {
                micIcon.classList.remove('fa-spin');
                btn.classList.remove('listening');
            };
            
            // When clicking the button
            btn.addEventListener('click', () => {
                if (btn.classList.contains('listening')) {
                    recognition.stop();
                    btn.classList.remove('listening');
                    micIcon.classList.remove('fa-spin');
                    content.textContent = "Listening stopped";
                } else {
                    recognition.start();
                    content.textContent = "Listening...";
                    micIcon.classList.add('fa-spin');
                    btn.classList.add('listening');
                }
            });
            
            // Process the voice command
            function takeCommand(message) {
                // Visual feedback that command is processing
                content.textContent = "Processing: " + message;
                
                if (message.includes('hello') || message.includes('hey') || message.includes('hi')) {
                    speak("Hello! How may I assist you today?");
                    setTimeout(() => {
                        content.textContent = "Ready to assist you";
                    }, 3000);
                } 
                else if (message.includes("open google")) {
                    window.open("https://google.com", "_blank");
                    speak("Opening Google...");
                } 
                else if (message.includes("open youtube")) {
                    window.open("https://youtube.com", "_blank");
                    speak("Opening YouTube...");
                } 
                else if (message.includes("open facebook")) {
                    window.open("https://facebook.com", "_blank");
                    speak("Opening Facebook...");
                } 
                else if (message.includes('what is') || message.includes('who is') || message.includes('what are') || message.includes('explain')) {
                    const searchQuery = message.replace('what is', '').replace('who is', '').replace('what are', '').replace('explain', '').trim();
                    window.open(`https://www.google.com/search?q=${searchQuery.replace(/ /g, "+")}`, "_blank");
                    speak(`Searching for ${searchQuery}`);
                } 
                else if (message.includes('wikipedia')) {
                    const wikiQuery = message.replace('wikipedia', '').replace('on wikipedia', '').trim();
                    window.open(`https://en.wikipedia.org/wiki/${wikiQuery.replace(/ /g, "_")}`, "_blank");
                    speak(`Opening Wikipedia page for ${wikiQuery}`);
                } 
                else if (message.includes('time')) {
                    const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    speak(`The current time is ${time}`);
                } 
                else if (message.includes('date')) {
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                    const date = new Date().toLocaleDateString(undefined, options);
                    speak(`Today's date is ${date}`);
                } 
                else if (message.includes('calculator')) {
                    window.open('https://www.calculator.net/', "_blank");
                    speak("Opening Calculator");
                } 
                else if (message.includes('thank you') || message.includes('thanks')) {
                    speak("You're welcome! Is there anything else I can help you with?");
                }
                else if (message.includes('your name') || message.includes('who are you')) {
                    speak("I am ORION, your virtual assistant. Designed to help you with your daily tasks.");
                }
                else {
                    window.open(`https://www.google.com/search?q=${message.replace(/ /g, "+")}`, "_blank");
                    speak(`I found some information for ${message}`);
                }
                
                // Reset status after command processing
                setTimeout(() => {
                    content.textContent = "Ready to assist you";
                }, 5000);
            }
        }
    </script>
</body>
</html>